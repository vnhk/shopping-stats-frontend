<div class="container">
  <div *ngIf="!products || products.length == 0">
    <br>
    <br>
    <br>
    <div class="d-flex justify-content-center">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>

  <ngb-carousel class="carousel-dark"
                #carousel
                (slide)="onSlide($event)"
                [interval]="interval"
                [pauseOnFocus]="pauseOnFocus"
                [pauseOnHover]="pauseOnHover"
  >
    @for (product of products; track product; let i = $index) {
    <ng-template ngbSlide>
      <div class="row">
      <a class="col-md-6" routerLink="/product-details" target="_blank" rel="nofollow noopener noreferrer">
          <div class="picsum-img-wrapper">
            <img [src]="product.imgSrc" alt="No image :(" />
          </div>
      </a>
      <div class="col-md-6">
        <div style="color:black; margin-top:10px">{{product.name}}</div>
      <h2 style="color:black">{{product.prices[0].price}}zł ({{product.prices[0].date | date: 'dd/MM/yyyy'}})</h2>
      <h4 style="color:black">Średnia cena: {{product.avgPrice}}zł</h4>
      <a href="{{product.offerLink}}" style="color:black">Link do sklepu</a>
      <br>
      <a href="/product-details/{{product.id}}" style="color:black">Szczegóły produktu</a>

      <hr>
    {{i + 1}} z {{products && products.length ? products.length : 0}}
    </div>
    </div>
    </ng-template>
    }
  </ngb-carousel>
</div>
